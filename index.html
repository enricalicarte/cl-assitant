<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Vinculado a Marcas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #e5ddd5;
            color: #333;
            display: flex;
            height: 100vh;
            margin: 0;
        }
        #container {
            display: flex;
            width: 100%;
        }
        #menu-toggle {
            background: #799bb9;
            color: white;
            border: none;
            padding: 10px;
            font-size: 20px;
            cursor: pointer;
        }
        #sidebar {
            background: #ffffff;
            color: #333;
            width: 300px;
            display: flex;
            flex-direction: column;
            padding: 15px;
            border-right: 1px solid #ddd;
        }
        #sidebar h2 {
            font-size: 20px;
            margin-bottom: 15px;
            color: #001c50;
        }
        .brand-block {
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        .brand-header {
            background: #799bb9;
            color: white;
            padding: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .brand-header:hover {
            background: #678ab0;
        }
        .conversation-list {
            list-style: none;
            padding: 0;
            margin: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .conversation-list.open {
            max-height: 300px;
            overflow-y: auto;
        }
        .conversation-item {
            cursor: pointer;
            padding: 10px;
            background: #f0f0f0;
            border-bottom: 1px solid #ddd;
            transition: background 0.3s;
        }
        .conversation-item:last-child {
            border-bottom: none;
        }
        .conversation-item:hover {
            background: #e0e0e0;
        }
        #main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #f4f3f0;
            padding: 15px;
        }
        #main-content h1 {
            color: #001c50;
            font-size: 24px;
            margin-bottom: 15px;
        }
        #search-box {
            display: flex;
            margin-bottom: 15px;
        }
        #brand-selector {
            margin-right: 5px;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: #ffffff;
            color: #333;
        }
        #search-input {
            flex: 1;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        #search-button, #clear-chat-button {
            background: #001c50;
            color: white;
            border: none;
            padding: 10px;
            margin-left: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        #chat-history {
            flex: 1;
            overflow-y: auto;
            background: #ffffff;
            padding: 10px;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .chat-message {
            margin-bottom: 10px;
            display: flex;
            align-items: flex-start;
            max-width: 80%;
            line-height: 1.6;
        }
        .chat-message.bot {
            text-align: left;
            color: #333;
            background-color: #f0f8ff;
            padding: 15px;
            border-radius: 10px 10px 10px 0;
            margin-right: auto;
            border: 1px solid #a7d2f2;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        .chat-message.user {
            text-align: right;
            color: white;
            background-color: #799bb9;
            padding: 15px;
            border-radius: 10px 10px 0 10px;
            margin-left: auto;
            border: 1px solid #678ab0;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        a {
            color: #007bff;
            text-decoration: underline;
        }
        a:hover {
            color: #0056b3;
        }
        .italic {
            font-style: italic;
        }
    </style>
</head>
<body>
    <div id="container">
        <aside id="sidebar">
            <h2>Historial</h2>
            <div class="brand-block">
                <div class="brand-header" data-brand="Cumlaude">Cumlaude<span>‚ñº</span></div>
                <ul class="conversation-list" id="Cumlaude-list">
                    <li class="conversation-item">Conversaci√≥n 1</li>
                    <li class="conversation-item">Conversaci√≥n 2</li>
                </ul>
            </div>
            <div class="brand-block">
                <div class="brand-header" data-brand="Rilastil">Rilastil<span>‚ñº</span></div>
                <ul class="conversation-list" id="Rilastil-list">
                    <li class="conversation-item">Conversaci√≥n 1</li>
                    <li class="conversation-item">Conversaci√≥n 2</li>
                </ul>
            </div>
            <div class="brand-block">
                <div class="brand-header" data-brand="Sensilis">Sensilis<span>‚ñº</span></div>
                <ul class="conversation-list" id="Sensilis-list">
                    <li class="conversation-item">Conversaci√≥n 1</li>
                    <li class="conversation-item">Conversaci√≥n 2</li>
                </ul>
            </div>
        </aside>
        <main id="main-content">
            <h1>Chat Vinculado a Marcas</h1>
            <div id="search-box">
                <select id="brand-selector">
                    <option value="cumlaude">Cumlaude Lab</option>
                    <option value="rilastil">Rilastil</option>
                    <option value="sensilis">Sensilis</option>
                </select>
                <input type="text" id="search-input" placeholder="Escribe tu mensaje aqu√≠..." />
                <button id="search-button">‚ûî</button>
                <button id="clear-chat-button">üóëÔ∏è Limpiar chat</button>
            </div>
            <div id="chat-history">
                <!-- Historial de chat actual -->
            </div>
        </main>
    </div>
    <script>
        const chatHistory = document.getElementById("chat-history");
        const brandHeaders = document.querySelectorAll(".brand-header");
        const searchInput = document.getElementById("search-input");
        const searchButton = document.getElementById("search-button");
        const clearChatButton = document.getElementById("clear-chat-button");

        // Mostrar/ocultar listas de conversaciones
        brandHeaders.forEach(header => {
            header.addEventListener("click", () => {
                const list = header.nextElementSibling;
                list.classList.toggle("open");
            });
        });

        clearChatButton.addEventListener("click", () => {
            chatHistory.innerHTML = ""; // Limpia el historial de mensajes
            console.clear(); // Limpia la consola
            console.log("Historial de chat limpiado.");
        });

        function addMessage(content, sender) {
            const messageDiv = document.createElement("div");
            messageDiv.className = `chat-message ${sender}`;
            if (sender === "bot") {
                messageDiv.innerHTML = parseMessage(content);
            } else {
                messageDiv.textContent = content;
            }
            chatHistory.appendChild(messageDiv);
            chatHistory.scrollTop = chatHistory.scrollHeight;
        }

        function parseMessage(content) {
            // Convierte enlaces en texto clicable
            const urlRegex = /(https?:\/\/[^\s]+)/g;
            content = content.replace(urlRegex, '<a href="$1" target="_blank">$1</a>');

            // Aplica cursiva a frases espec√≠ficas
            const italicRegex = /(Los enlaces que sean clicables y con un color adaptado\.)/g;
            content = content.replace(italicRegex, '<span class="italic">$1</span>');

            return content;
        }

        searchButton.addEventListener("click", () => {
            const message = searchInput.value.trim();
            if (message) {
                addMessage(message, "user");
                searchInput.value = "";
            }
        });
    </script>
</body>
</html>
